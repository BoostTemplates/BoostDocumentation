"use strict";(self.webpackChunkboost_documentation=self.webpackChunkboost_documentation||[]).push([[144],{4777:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>a,contentTitle:()=>i,default:()=>u,frontMatter:()=>n,metadata:()=>d,toc:()=>c});var t=s(4848),o=s(8453);const n={sidebar_position:3},i="Shop",d={id:"features/shop",title:"Shop",description:"Boost provides EasyShop integration with stripe. It is focused around providing user easy way to fetch products from stripe and add programatic rewards.",source:"@site/docs/features/shop.md",sourceDirName:"features",slug:"/features/shop",permalink:"/BoostDocumentation/docs/features/shop",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/features/shop.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"User Management",permalink:"/BoostDocumentation/docs/features/user_management"},next:{title:"Routes API",permalink:"/BoostDocumentation/docs/features/routes"}},a={},c=[{value:"Stripe config",id:"stripe-config",level:2},{value:"EasyShop",id:"easyshop",level:2},{value:"Create your stripe product:",id:"create-your-stripe-product",level:3},{value:"Registering Stripe Product:",id:"registering-stripe-product",level:3},{value:"Add rewards:",id:"add-rewards",level:3},{value:"Access product:",id:"access-product",level:3}];function p(e){const r={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"shop",children:"Shop"})}),"\n",(0,t.jsxs)(r.p,{children:["Boost provides ",(0,t.jsx)(r.code,{children:"EasyShop"})," integration with stripe. It is focused around providing user easy way to fetch products from stripe and add programatic rewards."]}),"\n",(0,t.jsx)(r.h2,{id:"stripe-config",children:"Stripe config"}),"\n",(0,t.jsxs)(r.p,{children:["Go to ",(0,t.jsx)(r.code,{children:".env"})," and configure stripe variables by providing keys to your shop, additionally specify domain your server works under so it can redirect you to success or fail APIs:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-Bash",children:"# STRIPE CONFIGURATION\nSTRIPE_SECRET=sk_test_51OQAT4KqXWCUhsM7Gi79UWQ0uX29jZ7QL7jrL24XgerUBh5VNCbd9e6PDURw5BpW3K7Y5Td5LgZ6UVFWLpdrFt3I00WD1ffRRg\nSTRIPE_YOUR_DOMAIN=http://localhost:5000\n"})}),"\n",(0,t.jsx)(r.h2,{id:"easyshop",children:"EasyShop"}),"\n",(0,t.jsx)(r.h3,{id:"create-your-stripe-product",children:"Create your stripe product:"}),"\n",(0,t.jsxs)(r.p,{children:["Follow this link to add new product: ",(0,t.jsx)(r.a,{href:"https://support.stripe.com/questions/how-to-create-products-and-prices",children:"https://support.stripe.com/questions/how-to-create-products-and-prices"})]}),"\n",(0,t.jsx)(r.h3,{id:"registering-stripe-product",children:"Registering Stripe Product:"}),"\n",(0,t.jsxs)(r.p,{children:["First you need to register Stripe product from your shop. You can do it in ",(0,t.jsx)(r.code,{children:"shop/__init__.py"})," with:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-Python",children:'EasyShop().register("100_Tokens",rewards.add_100_tokens)\n'})}),"\n",(0,t.jsx)(r.admonition,{type:"info",children:(0,t.jsx)(r.p,{children:"It is important to remember that name has to overlap with name of product you have putted into your stripe dashboard."})}),"\n",(0,t.jsxs)(r.p,{children:["You may notice that there is ",(0,t.jsx)(r.code,{children:"rewards.add_100_tokens"})," this is function called on successful payment."]}),"\n",(0,t.jsx)(r.h3,{id:"add-rewards",children:"Add rewards:"}),"\n",(0,t.jsxs)(r.p,{children:["You can specify your rewards anywhere but we recommend to user for it ",(0,t.jsx)(r.code,{children:"shop/rewards.py"}),", then simply follow this format:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"def add_100_tokens(user, productName : str) -> None:\n  user.available_tokens += 100\n"})}),"\n",(0,t.jsx)(r.h3,{id:"access-product",children:"Access product:"}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.code,{children:"EasyShop"})," uses products names to let you access all rewards. You get reward via:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-Python",children:'EasyShop().get_reward("productName")\n'})}),"\n",(0,t.jsx)(r.p,{children:"You can also get stripe product price object with:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-Python",children:'EasyShop().get_price("productName")\n'})}),"\n",(0,t.jsx)(r.p,{children:"Or you can get ids of both price and product assigned by stripe with:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-Python",children:'product_id, price_id = EasyShop().get_id("productName")\n'})}),"\n",(0,t.jsx)(r.p,{children:"And most importantly you can create payment link with:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-Python",children:'product_id, price_id = EasyShop().create_payment("productName")\n'})}),"\n",(0,t.jsx)(r.h1,{id:"restart",children:"Restart"}),"\n",(0,t.jsx)(r.p,{children:"After restarting your server all new products will be available via register."})]})}function u(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},8453:(e,r,s)=>{s.d(r,{R:()=>i,x:()=>d});var t=s(6540);const o={},n=t.createContext(o);function i(e){const r=t.useContext(n);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),t.createElement(n.Provider,{value:r},e.children)}}}]);