"use strict";(self.webpackChunkboost_documentation=self.webpackChunkboost_documentation||[]).push([[660],{1571:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>u,contentTitle:()=>o,default:()=>l,frontMatter:()=>i,metadata:()=>a,toc:()=>c});var n=r(4848),s=r(8453);const i={sidebar_position:4},o="Routes API",a={id:"features/routes",title:"Routes API",description:"Boost provides structured support to create public, private, and admin routes, facilitating a modular approach to route management.",source:"@site/docs/features/routes.md",sourceDirName:"features",slug:"/features/routes",permalink:"/docs/features/routes",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/features/routes.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Shop",permalink:"/docs/features/shop"},next:{title:"Configuration",permalink:"/docs/features/configuration"}},u={},c=[{value:"Create Public Route",id:"create-public-route",level:3},{value:"File Structure for Templates",id:"file-structure-for-templates",level:3},{value:"File Structure for Static Files",id:"file-structure-for-static-files",level:3},{value:"Create Private Route",id:"create-private-route",level:3},{value:"Create Admin Route",id:"create-admin-route",level:3},{value:"Project Structure",id:"project-structure",level:3}];function d(e){const t={code:"code",h1:"h1",h3:"h3",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"routes-api",children:"Routes API"})}),"\n",(0,n.jsx)(t.p,{children:"Boost provides structured support to create public, private, and admin routes, facilitating a modular approach to route management."}),"\n",(0,n.jsx)(t.h3,{id:"create-public-route",children:"Create Public Route"}),"\n",(0,n.jsxs)(t.p,{children:["The creation of public routes is a standard feature provided by Flask. In this project, routes and forms are organized into separate files and categorized as public, private, or accessible only by admin users. All route files must be registered (imported) in ",(0,n.jsx)(t.code,{children:"main/__init__.py"}),"."]}),"\n",(0,n.jsx)(t.p,{children:"To create a new public route, navigate to pub_routes.py and add a new function as shown below:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-python",children:"\n@routes_bp.route('/my_new_route')\ndef my_new_route():\n    response = make_response(render_template('pub/my_new_route.html'))  # Render your template\n    return response\n"})}),"\n",(0,n.jsx)(t.h3,{id:"file-structure-for-templates",children:"File Structure for Templates"}),"\n",(0,n.jsx)(t.p,{children:"Templates for public and private routes are served from the templates directory, which is divided into subdirectories:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"templates\n\u251c\u2500\u2500 admin\n\u2502   \u251c\u2500\u2500 admin.html\n\u2502   \u2514\u2500\u2500 login.html\n\u251c\u2500\u2500 priv\n\u2502   \u2514\u2500\u2500 user.html\n\u2514\u2500\u2500 pub\n    \u251c\u2500\u2500 404.html\n    \u251c\u2500\u2500 base.html\n    \u251c\u2500\u2500 join.html\n    \u251c\u2500\u2500 password_recovery.html\n    \u2514\u2500\u2500 success.html\n"})}),"\n",(0,n.jsx)(t.h3,{id:"file-structure-for-static-files",children:"File Structure for Static Files"}),"\n",(0,n.jsx)(t.p,{children:"Static files are served from the static directory, which is also divided into subdirectories:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"main/static\n\u251c\u2500\u2500 css\n\u2502   \u251c\u2500\u2500 admin.css\n\u2502   \u2514\u2500\u2500 user.css\n\u2514\u2500\u2500 icon\n"})}),"\n",(0,n.jsx)(t.h3,{id:"create-private-route",children:"Create Private Route"}),"\n",(0,n.jsx)(t.p,{children:"Private routes differ from public routes in that they require an access token for access. These routes should only be available to logged-in users. Here's how to create a private route:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-python",children:"@routes_bp.route('/my_private_route')\n@jwt_required(locations=['cookies'])\ndef user():\n    # Obtain user from the JWT\n    user = User.query.filter_by(id=get_jwt_identity()).first()\n\n    if user:\n        # Execute or serve code for the user\n        pass\n    else:\n        # Redirect to login page if user is not found\n        return redirect(\"join\")\n"})}),"\n",(0,n.jsx)(t.h3,{id:"create-admin-route",children:"Create Admin Route"}),"\n",(0,n.jsx)(t.p,{children:"Admin routes are similar to private routes, but they require additional checks to ensure that the user.id matches CONFIG.ADMIN_ID. Below is an example of how to set up an admin route:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-python",children:"\n@routes_bp.route('/my_admin_route')\n@jwt_required(locations=['cookies'])\ndef admin():\n    user = User.query.filter_by(id=get_jwt_identity()).first()\n\n    if user and user.id == CONFIG.ADMIN_ID:\n        # Execute or serve code for the admin\n        pass\n    else:\n        # Redirect to login page if the user is not an admin\n        return redirect(\"join\")\n"})}),"\n",(0,n.jsx)(t.h3,{id:"project-structure",children:"Project Structure"}),"\n",(0,n.jsx)(t.p,{children:"The overall project structure for managing routes, forms, and static files is as follows:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{children:"app/main\n\u251c\u2500\u2500 admin_forms.py\n\u251c\u2500\u2500 admin_routes.py\n\u251c\u2500\u2500 __init__.py\n\u251c\u2500\u2500 priv_forms.py\n\u251c\u2500\u2500 priv_routes.py\n\u251c\u2500\u2500 pub_forms.py\n\u251c\u2500\u2500 pub_routes.py\n\u251c\u2500\u2500 shop_routes.py\n\u251c\u2500\u2500 static\n\u2502   \u251c\u2500\u2500 css\n\u2502   \u2502   \u251c\u2500\u2500 admin.css\n\u2502   \u2502   \u2514\u2500\u2500 user.css\n\u2502   \u2514\u2500\u2500 icon\n\u251c\u2500\u2500 task_routes.py\n\u2514\u2500\u2500 templates\n    \u251c\u2500\u2500 admin\n    \u2502   \u251c\u2500\u2500 admin.html\n    \u2502   \u2514\u2500\u2500 login.html\n    \u251c\u2500\u2500 priv\n    \u2502   \u2514\u2500\u2500 user.html\n    \u2514\u2500\u2500 pub\n        \u251c\u2500\u2500 404.html\n        \u251c\u2500\u2500 base.html\n        \u251c\u2500\u2500 join.html\n        \u251c\u2500\u2500 password_recovery.html\n        \u2514\u2500\u2500 success.html\n"})})]})}function l(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453:(e,t,r)=>{r.d(t,{R:()=>o,x:()=>a});var n=r(6540);const s={},i=n.createContext(s);function o(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);